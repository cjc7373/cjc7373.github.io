<!doctype html><html lang=zh><head><title>Codeforces Round 629 (Div. 3) 题解</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content="3MbbliKSwhNvv713tGB2RL8xvrJC404x1BFONabsw7g"><meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=5" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><script src=/js/toc.js></script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/dark-mode.min.fa793cdb4ae2d683f9cccdaf1c7922313b4cf124910b552cbc6b3a7ae3b45926.css integrity="sha256-+nk820ri1oP5zM2vHHkiMTtM8SSRC1UsvGs6euO0WSY=" media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"><script async defer data-domain=blog.coherence.codes src=https://analytics.coherence.space/js/plausible.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><div id=app><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item active" href=/posts>存档
</a><a class="a-block drawer-menu-item false" href=/tags>标签
</a><a class="a-block drawer-menu-item false" href=/categories>分类
</a><a class="a-block drawer-menu-item false" href=/friends>友链
</a><a class="a-block drawer-menu-item false" href=/about>关于
</a><a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc><div class=toc-content><center>- 目录 -</center><ul><ul><li><a href=#1328a---divisibility-problem class=nav-1328a---divisibility-problem>1328A - Divisibility Problem</a></li><li><a href=#1328b---k-th-beautiful-string class=nav-1328b---k-th-beautiful-string>1328B - K-th Beautiful String</a></li><li><a href=#1328c---ternary-xor class=nav-1328c---ternary-xor>1328C - Ternary XOR</a></li><li><a href=#1328d---carousel class=nav-1328d---carousel>1328D - Carousel</a></li><li><a href=#1328e---tree-queries class=nav-1328e---tree-queries>1328E - Tree Queries</a></li><li><a href=#1328f---make-k-equal class=nav-1328f---make-k-equal>1328F - Make k Equal</a></li></ul></div></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu
</i></button>
<a id=navTitle class=navbar-brand href=https://blog.coherence.codes/>Coherence's Blog
</a><button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://blog.coherence.codes/><div class=single-column-header-title>Coherence's Blog</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>Codeforces Round 629 (Div. 3) 题解<div class=post-meta><time itemprop=datePublished>2020-04-12 19:00
</time><i class=material-icons>label</i>
<a href=/tags/%E7%AE%97%E6%B3%95>算法</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p>快乐划水。</p><h2 id=1328a---divisibility-problem><a href=https://codeforces.com/contest/1328/problem/A>1328A - Divisibility Problem</a></h2><p><code>1/0 Accepted</code></p><p>快乐签到。</p><h2 id=1328b---k-th-beautiful-string><a href=https://codeforces.com/contest/1328/problem/B>1328B - K-th Beautiful String</a></h2><p><code>1/0 Accepted</code></p><p>给一个数n，要求构造一个字符串，包含n-2个a，2个b，且在这个字符串的按字典序的全排列中排在第k个。</p><p>找b的位置即可。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>t <span style=color:#f92672>=</span> int(input())
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(t):
</span></span><span style=display:flex><span>    n, k <span style=color:#f92672>=</span> [int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> p <span style=color:#f92672>in</span> range(max(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>,k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> p <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&gt;=</span> k:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>    pos1 <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> p
</span></span><span style=display:flex><span>    pos2 <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> (k <span style=color:#f92672>-</span> int(((p <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> (p <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>)))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> i <span style=color:#f92672>==</span> pos1 <span style=color:#f92672>or</span> i <span style=color:#f92672>==</span> pos2:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#39;b&#39;</span>, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#39;a&#39;</span>, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>    print()
</span></span></code></pre></div><h2 id=1328c---ternary-xor><a href=https://codeforces.com/contest/1328/problem/C>1328C - Ternary XOR</a></h2><p><code>1/0 Accepted</code></p><p>给一个三进制数x，求两个数a，b，使这两个数的异或为x，且max(a, b)最小。</p><p>从左往右对每一位考虑最优解，若是0或2，则平均分配，若为1，则分配到0的那方获得接下来所有的数。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>t <span style=color:#f92672>=</span> int(input())
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(t):
</span></span><span style=display:flex><span>    l <span style=color:#f92672>=</span> int(input())
</span></span><span style=display:flex><span>    x <span style=color:#f92672>=</span> input()
</span></span><span style=display:flex><span>    ans1 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>    ans2 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(len(x)):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> x[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>or</span> x[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;2&#39;</span>:
</span></span><span style=display:flex><span>            ans1 <span style=color:#f92672>+=</span> str(int(x[i]) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>            ans2 <span style=color:#f92672>+=</span> str(int(x[i]) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            ans1 <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;1&#39;</span>
</span></span><span style=display:flex><span>            ans2 <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, len(x)):
</span></span><span style=display:flex><span>                ans1 <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>                ans2 <span style=color:#f92672>+=</span> x[j]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>    print(ans1, ans2, sep<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>)
</span></span></code></pre></div><h2 id=1328d---carousel><a href=https://codeforces.com/contest/1328/problem/D>1328D - Carousel</a></h2><p><code>Not Attempted</code></p><p>大概是能做的，只是到了十二点太困了。。就睡觉去了。</p><p>n个动物围成一圈，相邻的不同动物要有不同的颜色，求最少的颜色和对应的颜色序列。</p><p>考虑几种情况：所有动物都相同，总数为偶数，总数为奇数但存在相邻的相同动物，总数为奇数且不存在相邻的相同动物。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>t <span style=color:#f92672>=</span> int(input())
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(t):
</span></span><span style=display:flex><span>    n <span style=color:#f92672>=</span> int(input())
</span></span><span style=display:flex><span>    figure <span style=color:#f92672>=</span> [int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> figure<span style=color:#f92672>.</span>count(figure[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>==</span> n:
</span></span><span style=display:flex><span>        print(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;1 &#39;</span> <span style=color:#f92672>*</span> n)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>elif</span> n <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>            print(i <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#39; &#39;</span>)
</span></span><span style=display:flex><span>        print()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        flg <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> figure[i] <span style=color:#f92672>==</span> figure[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]: <span style=color:#75715e># -1 即最后一个</span>
</span></span><span style=display:flex><span>                flg <span style=color:#f92672>=</span> i
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> flg <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> i <span style=color:#f92672>&lt;</span> flg:
</span></span><span style=display:flex><span>                    print(i <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#39; &#39;</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    print((i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#39; &#39;</span>)
</span></span><span style=display:flex><span>            print()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>                print(i <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#39; &#39;</span>)
</span></span><span style=display:flex><span>            print(<span style=color:#ae81ff>3</span>)
</span></span></code></pre></div><h2 id=1328e---tree-queries><a href=https://codeforces.com/contest/1328/problem/E>1328E - Tree Queries</a></h2><p><code>Not Attempted</code></p><p>给一棵树，有m个查询，每个查询给出树上的一些节点，若有一条从根节点出发的路径，使这些节点属于这条路径或和这条路径上某个点的距离为一，输出 YES，否则为 NO。</p><p>补题的时候都是泪。按题解写了个 dfs 序，然后对每个查询去它的父节点，对每个节点检查其是否为最深的那个节点的祖先。</p><p>然后上来一个 CE：</p><p><img src=./image-20200406110417718.png alt=image-20200406110417718></p><p>我就奇怪了你为什么不用 utf-8，而且之前交过带中文注释的正常啊。于是把注释改回英文。</p><p>之后是无尽的 RE 和 TLE。分析了一波复杂度没毛病啊，只能是优化的锅了。</p><p><img src=./image-20200406110610535.png alt=image-20200406110610535></p><p>看了别人的代码，主要是两点：用栈模拟 dfs 和输入使用<code>input = sys.stdin.readline</code>。试了一下确实，直接 dfs 会爆栈空间，不优化输入会 TLE。</p><p>最终结果可以看出，PyPy 和 CPython 差距还是挺大的。</p><p><img src=./image-20200406110757605.png alt=image-20200406110757605></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>input <span style=color:#f92672>=</span> sys<span style=color:#f92672>.</span>stdin<span style=color:#f92672>.</span>readline
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>n, m <span style=color:#f92672>=</span> [int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>tree <span style=color:#f92672>=</span> [[] <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)]
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    u, v <span style=color:#f92672>=</span> [int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>    tree[u]<span style=color:#f92672>.</span>append(v)
</span></span><span style=display:flex><span>    tree[v]<span style=color:#f92672>.</span>append(u)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>t <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>tin <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)]
</span></span><span style=display:flex><span>tout <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)]
</span></span><span style=display:flex><span>par <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)]
</span></span><span style=display:flex><span>dep <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>stack <span style=color:#f92672>=</span> [(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)]
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> stack:
</span></span><span style=display:flex><span>    to, parent, depth, state <span style=color:#f92672>=</span> stack<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> state:
</span></span><span style=display:flex><span>        par[to] <span style=color:#f92672>=</span> parent
</span></span><span style=display:flex><span>        dep[to] <span style=color:#f92672>=</span> depth
</span></span><span style=display:flex><span>        tin[to] <span style=color:#f92672>=</span> t
</span></span><span style=display:flex><span>        t <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        stack<span style=color:#f92672>.</span>append((to, parent, depth, <span style=color:#ae81ff>0</span>))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> tree[to]:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> i <span style=color:#f92672>==</span> parent: <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>            stack<span style=color:#f92672>.</span>append((i, to, depth<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        tout[to] <span style=color:#f92672>=</span> t
</span></span><span style=display:flex><span>        t <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># print(f&#34;tin={tin}\ntout={tout}&#34;)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(m):
</span></span><span style=display:flex><span>    <span style=color:#75715e># replace every non-root vertex with its parent</span>
</span></span><span style=display:flex><span>    query <span style=color:#f92672>=</span> [par[int(i)] <span style=color:#66d9ef>if</span> i <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#66d9ef>else</span> int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>del</span>(query[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    fv <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    max_dep <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> query:
</span></span><span style=display:flex><span>        <span style=color:#75715e># search the deepest vertex fv</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> dep[i] <span style=color:#f92672>&gt;</span> max_dep:
</span></span><span style=display:flex><span>            max_dep <span style=color:#f92672>=</span> dep[i]
</span></span><span style=display:flex><span>            fv <span style=color:#f92672>=</span> i
</span></span><span style=display:flex><span>    flg <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># for every vertex, should be fv&#39;s parent</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> query:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> (tin[i] <span style=color:#f92672>&lt;=</span> tin[fv] <span style=color:#f92672>and</span> tout[fv] <span style=color:#f92672>&lt;=</span> tout[i]):
</span></span><span style=display:flex><span>            flg <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> flg: print(<span style=color:#e6db74>&#34;NO&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>: print(<span style=color:#e6db74>&#34;YES&#34;</span>)
</span></span></code></pre></div><h2 id=1328f---make-k-equal><a href=https://codeforces.com/contest/1328/problem/F>1328F - Make k Equal</a></h2><p><code>Not Attempted</code></p><p>给 n 个数，给一个数 k &lt;= n，要使得至少 k 个数相等。有两种操作：使一个最小的数 +1，使一个最大的数 -1。求最少的操作数。</p><p>根据<a href=https://www.cnblogs.com/st1vdy/p/12579249.html>这篇题解</a>，本题一共三种情况，给最大值 -1，给最小值 +1，同时进行两种操作（此时一定有 $a_1=a_n$ ）。（这个解法感觉比官方的还要好）</p><p>第一和第二种情况类似，将最左（右）边的 k 个数变为一致即可。第三种情况下，$\sum_{i=1}^{\frac{n}{2}}(a_{n-i}-a_i)$即将所有数变为相同（但是如果 n 为奇数，中间那个数怎么办？待考虑。。但结果是对的），但我们只需要 k 个，所以减去$n-k$。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>input <span style=color:#f92672>=</span> sys<span style=color:#f92672>.</span>stdin<span style=color:#f92672>.</span>readline
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>n, k <span style=color:#f92672>=</span> [int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> [int(i) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> input()<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>a<span style=color:#f92672>.</span>sort()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n<span style=color:#f92672>-</span>k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> a[i] <span style=color:#f92672>==</span> a[i<span style=color:#f92672>+</span>k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>        print(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        sys<span style=color:#f92672>.</span>exit(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>l <span style=color:#f92672>=</span> r <span style=color:#f92672>=</span> m <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># suppose val is the number where k numbers are the same</span>
</span></span><span style=display:flex><span><span style=color:#75715e># case 1, turn the leftmost k numbers to val (or val-1)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    l <span style=color:#f92672>+=</span> a[k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> a[i]
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):  <span style=color:#75715e># if a[k-1] have many same numbers</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> a[i] <span style=color:#f92672>==</span> a[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>        l <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># case 2, turn the rightmost k numbers to val (or val-1)</span>
</span></span><span style=display:flex><span>a_reverse <span style=color:#f92672>=</span> a[::<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    r <span style=color:#f92672>+=</span> <span style=color:#f92672>-</span>(a_reverse[k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> a_reverse[i])
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> a_reverse[i] <span style=color:#f92672>==</span> a_reverse[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>        r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># case 3, all the numbers are val or val-1 or val+1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n<span style=color:#f92672>//</span><span style=color:#ae81ff>2</span>):
</span></span><span style=display:flex><span>    m <span style=color:#f92672>+=</span> a[n<span style=color:#f92672>-</span>i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> a[i]
</span></span><span style=display:flex><span>m <span style=color:#f92672>-=</span> n <span style=color:#f92672>-</span> k
</span></span><span style=display:flex><span>print(min(l, r, m))
</span></span></code></pre></div><hr width=100% id=EOF><p style=color:#777>最后修改于 2020-04-12</p></div></div><nav class=post-pagination><a class=newer-posts href=/posts/2020_and_before/codeforces_634_div3/>下回<br>Codeforces Round 634 (Div. 3) 题解
</a><a class=older-posts href=/posts/2020_and_before/write_a_script_to_classify_posts/>上回<br>博客图片文件夹迁移</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://blog.coherence.codes/><div class=nav-title>Coherence's Blog</div></a><div class=nav-link-list><a class="a-block nav-link-item active" href=/posts>存档
</a><a class="a-block nav-link-item false" href=/tags>标签
</a><a class="a-block nav-link-item false" href=/categories>分类
</a><a class="a-block nav-link-item false" href=/friends>友链
</a><a class="a-block nav-link-item false" href=/about>关于
</a><a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer><a href=https://github.com/cjc7373/hugo-theme-diary>Modified</a> Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>移植自 <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Coherence. 本站遵循 CC BY-NC-SA 4.0 协议</div></div><div id=extraContainer class=extra-container><div class=toc-wrapper><div class=toc><div class=toc-content><center>- 目录 -</center><ul><ul><li><a href=#1328a---divisibility-problem class=nav-1328a---divisibility-problem>1328A - Divisibility Problem</a></li><li><a href=#1328b---k-th-beautiful-string class=nav-1328b---k-th-beautiful-string>1328B - K-th Beautiful String</a></li><li><a href=#1328c---ternary-xor class=nav-1328c---ternary-xor>1328C - Ternary XOR</a></li><li><a href=#1328d---carousel class=nav-1328d---carousel>1328D - Carousel</a></li><li><a href=#1328e---tree-queries class=nav-1328e---tree-queries>1328E - Tree Queries</a></li><li><a href=#1328f---make-k-equal class=nav-1328f---make-k-equal>1328F - Make k Equal</a></li></ul></div></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up
</i></a><a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div id=single-column-footer><a href=https://github.com/cjc7373/hugo-theme-diary>Modified</a> Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>移植自 <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Coherence. 本站遵循 CC BY-NC-SA 4.0 协议</div></div><script src=/js/journal.js></script></body></html>