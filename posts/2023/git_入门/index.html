<!doctype html><html lang=zh><head><title>git 入门</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content="3MbbliKSwhNvv713tGB2RL8xvrJC404x1BFONabsw7g"><meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=5" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><script src=/js/toc.js></script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/dark-mode.min.3d657c4dffc26f93b7993383f117ef44bb15c431a46f611390b5cb0daf40fdf7.css integrity="sha256-PWV8Tf/Cb5O3mTOD8RfvRLsVxDGkb2ETkLXLDa9A/fc=" media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"><script async defer data-domain=blog.coherence.codes src=https://analytics.coherence.space/js/plausible.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><div id=app><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item active" href=/posts>存档
</a><a class="a-block drawer-menu-item false" href=/tags>标签
</a><a class="a-block drawer-menu-item false" href=/categories>分类
</a><a class="a-block drawer-menu-item false" href=/friends>友链
</a><a class="a-block drawer-menu-item false" href=/about>关于
</a><a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc><div class=toc-content><center>- 目录 -</center><ul><ul><li><a href=#objects class=nav-objects>Objects</a></li><li><a href=#references class=nav-references>References</a></li><li><a href=#merge-and-rebase class=nav-merge-and-rebase>Merge and Rebase</a></li><li><a href=#%e4%b8%80%e4%b8%aa-fsck-%e5%af%bc%e8%87%b4%e7%9a%84%e9%97%ae%e9%a2%98 class=nav-一个-fsck-导致的问题>一个 fsck 导致的问题</a></li></ul></div></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu
</i></button>
<a id=navTitle class=navbar-brand href=https://blog.coherence.codes/>Coherence's Blog
</a><button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://blog.coherence.codes/><div class=single-column-header-title>Coherence's Blog</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>git 入门<div class=post-meta><time itemprop=datePublished>2023-09-18 00:00
</time><i class=material-icons>label</i>
<a href=/tags/git>git</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p>本文的大部分内容来自于 <a href=https://git-scm.com/book/en/v2>Pro Git</a> 这本书。</p><h2 id=objects>Objects</h2><p>git 中最基础的元素是 object，每个 object 由一个 object ID (OID) 唯一标识，OID 是一个 160 bits （用 hex 字符串表示为四十个字符） 的 SHA-1 哈希。具体而言，git 中主要存在三种 objects：</p><ul><li><p><code>blobs</code>: 存储文件内容，OID 即为文件内容的哈希</p></li><li><p><code>trees</code>: 一个文件名（path entries）的有序列表，OID 为这个列表的哈希。列表的每一行如下：</p><pre tabindex=0><code>100644 blob 1fc4aa8f76027dd0fb8f9b533810770236d5c234    .gitignore
</code></pre><p>容易推测这几个字段分别为权限、object 类型、哈希、文件名。子目录同样是 trees。项目的根目录即为 root tree。所有的 trees 构成了一棵 Merkle tree，<del>所以 git 就是区块链（即答</del>。下图中三角代表 trees，方块为 blobs</p><p><img src=./image-20230918111328708.png alt=image-20230918111328708></p></li><li><p><code>commits</code>: 一个<strong>快照</strong>（snapshot），每个 commit 包含了一个到根 tree 的引用，和一个（或多个）到 parent 的引用。parent 就是上一个 commit 的 OID。在一个 merge commit 中会包含多个 parents。由于 Commit 存储的是快照而不是 diff，所以 Git checkout（切换分支）的速度很快。下图中圆形代表 commits</p><p><img src=./image-20230918111515508.png alt=image-20230918111515508></p></li></ul><p>objects 的特性决定了它们是不可变的，一旦修改了某个 object 中的内容，哈希将会改变，因而会生成一个新的 object.</p><p>可以使用 <code>git cat-file -t</code> 来检查一个 object 的类型，用 <code>git cat-file -p</code> 来打印其内容，以本博客的 git 仓库为例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>commit 10142e0fb1f636288c7f5a6a164e67c1efc13ef4
</span></span><span style=display:flex><span>Author: Harold Cheng &lt;niuchangcun@gmail.com&gt;
</span></span><span style=display:flex><span>Date:   Tue Sep <span style=color:#ae81ff>5</span> 17:30:57 <span style=color:#ae81ff>2023</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    The Google File System
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>$ git cat-file -t 10142e0fb1f636288c7f5a6a164e67c1efc13ef4
</span></span><span style=display:flex><span>commit
</span></span><span style=display:flex><span>$ git cat-file -p 10142e0fb1f636288c7f5a6a164e67c1efc13ef4
</span></span><span style=display:flex><span>tree f1f161d92d0c7341ed35e76a66855383334005ab
</span></span><span style=display:flex><span>parent 0e72a3f169a8bbc80904ab7750d3c37853a31dc7
</span></span><span style=display:flex><span>author Harold Cheng &lt;niuchangcun@gmail.com&gt; <span style=color:#ae81ff>1693906257</span> +0800
</span></span><span style=display:flex><span>committer Harold Cheng &lt;niuchangcun@gmail.com&gt; <span style=color:#ae81ff>1693906257</span> +0800
</span></span><span style=display:flex><span>gpgsig -----BEGIN PGP SIGNATURE-----
</span></span><span style=display:flex><span> &lt;omitted&gt;
</span></span><span style=display:flex><span> -----END PGP SIGNATURE-----
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The Google File System
</span></span><span style=display:flex><span>$ git cat-file -p f1f161d92d0c7341ed35e76a66855383334005ab
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree 9a76f18c0bca57de0ecf8b9bf15e0e9b7adf5621    .github
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 1fc4aa8f76027dd0fb8f9b533810770236d5c234    .gitignore
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 0b47f42f9ec57c58c474dc1f335e14163dd7a549    .gitmodules
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree f5b1aa13654d360771df3da98296ac958d537d88    archetypes
</span></span><span style=display:flex><span><span style=color:#ae81ff>100644</span> blob 8c082a36fd3b90a9e77ec19b17deceb47665e4c7    config.toml
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree 81200165da89a43766f03762e4a8d8443357f1ed    content
</span></span><span style=display:flex><span><span style=color:#ae81ff>040000</span> tree 336e0cfa73193fc3f76ba2b2de182e82b010f599    themes
</span></span></code></pre></div><p>这些 objects 都被存在项目的 <code>.git/objects</code> 目录下，由 SHA-1 的前两个字符作为子目录的文件名，后 38 个字符为 object 的文件名。这些 objects 使用 zlib 压缩，根据 <a href=https://unix.stackexchange.com/questions/22834/how-to-uncompress-zlib-data-in-unix>stackoverflow 上的魔法</a>，可以用 gzip 来解压这些文件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ll .git/objects/10/142e0fb1f636288c7f5a6a164e67c1efc13ef4 
</span></span><span style=display:flex><span>-r--r--r-- <span style=color:#ae81ff>1</span> cjc cjc <span style=color:#ae81ff>833</span> Sep  <span style=color:#ae81ff>5</span> 17:30 .git/objects/10/142e0fb1f636288c7f5a6a164e67c1efc13ef4
</span></span><span style=display:flex><span>$ printf <span style=color:#e6db74>&#34;\x1f\x8b\x08\x00\x00\x00\x00\x00&#34;</span> | cat - .git/objects/10/142e0fb1f636288c7f5a6a164e67c1efc13ef4 | gzip -dc
</span></span><span style=display:flex><span>commit 1098tree f1f161d92d0c7341ed35e76a66855383334005ab
</span></span><span style=display:flex><span>parent 0e72a3f169a8bbc80904ab7750d3c37853a31dc7
</span></span><span style=display:flex><span>author Harold Cheng &lt;niuchangcun@gmail.com&gt; <span style=color:#ae81ff>1693906257</span> +0800
</span></span><span style=display:flex><span>committer Harold Cheng &lt;niuchangcun@gmail.com&gt; <span style=color:#ae81ff>1693906257</span> +0800
</span></span><span style=display:flex><span>gpgsig -----BEGIN PGP SIGNATURE-----
</span></span><span style=display:flex><span>&lt;omitted&gt;
</span></span><span style=display:flex><span> -----END PGP SIGNATURE-----
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The Google File System
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>gzip: stdin: unexpected end of file
</span></span><span style=display:flex><span>$ printf <span style=color:#e6db74>&#34;\x1f\x8b\x08\x00\x00\x00\x00\x00&#34;</span> | cat - .git/objects/10/142e0fb1f636288c7f5a6a164e67c1efc13ef4 | gzip -dc &gt; test.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>gzip: stdin: unexpected end of file
</span></span><span style=display:flex><span>$ sha1sum test.txt 
</span></span><span style=display:flex><span>10142e0fb1f636288c7f5a6a164e67c1efc13ef4  test.txt
</span></span></code></pre></div><p>SHA-1 与 commit 的 OID 一致。</p><h2 id=references>References</h2><p>objects 虽然简洁明了，但是它的名字太不好记了。所以 git 引入了 references (或 refs) 作为对某个 object 的引用，它们被存储在 <code>.git/refs</code> 中，这就是分支。我们可以通过 <code>git update-ref refs/heads/xxxx hash</code> 来更新/新建一个 ref，<code>git branch</code> 命令基本等同于使用 <code>update-ref</code> 创建一个指向当前分支最后一个 commit 的 ref。</p><p>git 通过一个特殊的 HEAD 文件来获得当前分支最后一个 commit 的信息，通常情况下 HEAD 是对某个 ref 的引用：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat .git/HEAD
</span></span><span style=display:flex><span>ref: refs/heads/source_hugo
</span></span></code></pre></div><p>但是当我们 checkout 一个 tag/commit/远程分支时，我们就会进入到所谓的 &ldquo;detached HEAD&rdquo; 状态：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout f25ea89160baa34af6587ebc4399cba9b82152ab
</span></span><span style=display:flex><span>Note: switching to <span style=color:#e6db74>&#39;f25ea89160baa34af6587ebc4399cba9b82152ab&#39;</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>You are in <span style=color:#e6db74>&#39;detached HEAD&#39;</span> state. You can look around, make experimental
</span></span><span style=display:flex><span>changes and commit them, and you can discard any commits you make in this
</span></span><span style=display:flex><span>state without impacting any branches by switching back to a branch.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>If you want to create a new branch to retain commits you create, you may
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span> so <span style=color:#f92672>(</span>now or later<span style=color:#f92672>)</span> by using -c with the switch command. Example:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  git switch -c &lt;new-branch-name&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Or undo this operation with:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  git switch -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Turn off this advice by setting config variable advice.detachedHead to false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HEAD is now at f25ea8916 fix: Add CHANGELOG link
</span></span></code></pre></div><p>在这种状态作出的 commits 将成为 dangling commits，因为没有 refs 能够间接引用到它们。我们可以在 <code>git reflog</code> 中看到它们，但它们在一段时间后可能会被 git 垃圾回收掉。如果因为误操作“丢失”了一些 commit，大部分情况下只是没有 ref 能够间接引用它们了，所以我们能在 reflog 中找到并恢复它们。</p><p>除了分支之外，另一种 ref 是 tag。tag 被存储在 <code>.git/refs/tags</code> 中，和 branch 不同的是，tag 是不可变的。git 中有两种类型的 tag：</p><ul><li><p>lightweight tag: 使用 <code>git tag</code> 创建，其 ref 直接指向一个 commit</p></li><li><p>annotated tag: 使用 <code>git tag -a</code> 创建，需要像 commit 一样写一段 tag message，其 ref 指向 git 中的第四种 object 类型，tag。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git tag -a v1.2.3
</span></span><span style=display:flex><span>$ cat .git/refs/tags/v1.2.3 
</span></span><span style=display:flex><span>295e429586c0dc7764077b7ec3b15402b9299532
</span></span><span style=display:flex><span>$ git cat-file -t 295e429586c0dc7764077b7ec3b15402b9299532
</span></span><span style=display:flex><span>tag
</span></span><span style=display:flex><span>$ git cat-file -p 295e429586c0dc7764077b7ec3b15402b9299532
</span></span><span style=display:flex><span>object 0996cddadea886287fd606b4102304814eb3785c
</span></span><span style=display:flex><span>type commit
</span></span><span style=display:flex><span>tag v1.2.3
</span></span><span style=display:flex><span>tagger Harold Cheng &lt;niuchangcun@gmail.com&gt; <span style=color:#ae81ff>1695018502</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>xxxxx
</span></span><span style=display:flex><span>$ <span style=color:#75715e># object 字段就是对 commit 的引用</span>
</span></span><span style=display:flex><span>$ git cat-file -t 0996cddadea886287fd606b4102304814eb3785c
</span></span><span style=display:flex><span>commit
</span></span></code></pre></div><p>但是 tag 并不是必须指向一个 commit，tag 任何 object 都是可以的。虽然在实践中好像 tag 非 commit 并没有什么用..</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git tag -a tree-tag 9ff1e32671b9ac918dd665020c8da93c44787e33
</span></span><span style=display:flex><span>$ cat .git/refs/tags/tree-tag 
</span></span><span style=display:flex><span>3b94c91c60f92b16336050aa445c7a293e61ec2e
</span></span><span style=display:flex><span>$ git cat-file -p 3b94c91c60f92b16336050aa445c7a293e61ec2e
</span></span><span style=display:flex><span>object 9ff1e32671b9ac918dd665020c8da93c44787e33
</span></span><span style=display:flex><span>type tree
</span></span><span style=display:flex><span>tag tree-tag
</span></span><span style=display:flex><span>tagger Harold Cheng &lt;niuchangcun@gmail.com&gt; <span style=color:#ae81ff>1695018786</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a tag <span style=color:#66d9ef>for</span> tree
</span></span></code></pre></div></li></ul><h2 id=merge-and-rebase>Merge and Rebase</h2><p>最简单的 merge 类型是 fast-forward，git 简单地移动 ref 来完成 merge。另一种常见的 merge 如图所示：</p><p><img src=./basic-merging-1.png alt="Three snapshots used in a typical merge"></p><p>我们想要在 master 分支上执行 <code>git merge iss53</code>，git 会找到三个 commits，C5、C4 和它们的共同祖先 C2，然后执行<a href=https://stackoverflow.com/questions/4129049/why-is-a-3-way-merge-advantageous-over-a-2-way-merge>三方合并</a> (three-way merge)，high-level 地看，git 需要把每个 commit 的 tree 划分成一个一个 chunk，chunk 可以是文件，或文件的一块，或行，这由具体的 merge 策略决定。git 会比较这些 chunks，对于某一个 chunk：</p><ul><li>如果在 C2、C4、C5 中都相等，则不作更改</li><li>如果 C2、C4 相等，但和 C5 不等，取 C5 的版本，反之同理</li><li>如果 C4、C5 相等，和 C2 不等，那么两个分支作了同样的更改，取任何一个版本</li><li>如果三者都不相等，则发生 merge 冲突，需要手动处理</li></ul><p>如果我们不寻找 C2，只比较 C4、C5，这就是所谓的 two-way merge，由于失去了祖先的信息，我们无法处理第二种情况。实际进行 merge 时，我们可能会看到如下信息：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git merge b1
</span></span><span style=display:flex><span>Auto-merging 1.txt
</span></span><span style=display:flex><span>Merge made by the <span style=color:#e6db74>&#39;ort&#39;</span> strategy.
</span></span><span style=display:flex><span> 1.txt | <span style=color:#ae81ff>1</span> +
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>这个过程中，git 会创建一棵新 tree，把两个分支作为 parent 创建一个新的 commit，这就是 merge commit。</p><p>rabase 则是完全不同的方式。如果 cherry-pick 一个 commit：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git cherry-pick 2f6c412
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>master 2aa02d0<span style=color:#f92672>]</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span> Date: Tue Sep <span style=color:#ae81ff>19</span> 16:32:32 <span style=color:#ae81ff>2023</span> +0800
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> file changed, <span style=color:#ae81ff>1</span> insertion<span style=color:#f92672>(</span>+<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>本质上是 diff 2f6c412 和 2f6c412 的 parent，然后在当前分支重新应用这个 diff。rebase 本质上是自动的 cherry-pick。</p><p><img src=./basic-rebase-1.png alt="Simple divergent history"></p><p>在 experiment 分支执行 <code>git rebase master</code> 则会找到 experiment 和 master 的共同祖先 C2，然后发现 experiment 分支有一个新的 commit C4，git 会在 master 重做这个 commit。</p><h2 id=一个-fsck-导致的问题>一个 fsck 导致的问题</h2><p>某日我在检查软件更新时，发现 KeePassDX f-droid 版没有随着上游更新，进而发现了<a href=https://github.com/Kunzisoft/KeePassDX/issues/1333>这个 issue</a>，问题的原因是 KeePassDX 的仓库中有几个 tree object 不合法，运行 <code>git fsck</code> 会报错 <code>error in tree b7a0b493966f9077f6fcd7de37244699bb73615e: duplicateEntries: contains duplicate file entries</code>。</p><p>git 不允许一个 tree 中含有两个相同的文件名，但是不知为何这个错误发生了（包含这个 tree 的 commit 可以追溯到 2009 年，可能是由于 Windows 不区分文件名大小写且在上古时期 git 处理这个的逻辑有问题）。而 f-droid 在几个月前启用了 git clone 时的 fsck 检查（<code>transfer.fsckObjects</code> 等配置），导致 build 时 clone 仓库失败。顺便一提 Github push 现在也有 git fsck 检查，所以把这个仓库往另一个仓库 push 也会失败。</p><p>fsck 失败的问题在多个仓库出现过，包括<a href=https://github.com/highlightjs/highlight.js/issues/1733>highlight.js</a>, <a href=https://github.com/Behat/Behat>Behat</a>, <a href=https://github.com/psf/requests/issues/2690>requests</a>，无一例外都能追溯到某些上古 commit，目前看来除了重写所有 commits 并没有什么办法来修复这些错误。我尝试了 <a href=https://stackoverflow.com/questions/10931954/git-tree-contains-duplicate-file-entries>replace 的魔法</a>发现并不能够使其通过 git fsck（毕竟出错的 tree 还在）。</p><p>回到 KeePassDX 的问题只能让 f-droid 在 clone 的时候做一些 workaround 来绕过了&mldr;</p><hr width=100% id=EOF><p style=color:#777>最后修改于 2023-09-18</p></div></div><nav class=post-pagination><a class=newer-posts href=/posts/2023/mit_6.824_2_raft/>下回<br>MIT 6.824 学习笔记(二) Raft
</a><a class=older-posts href=/posts/2023/mit_6.824_1_gfs/>上回<br>MIT 6.824 学习笔记(一) GFS</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://blog.coherence.codes/><div class=nav-title>Coherence's Blog</div></a><div class=nav-link-list><a class="a-block nav-link-item active" href=/posts>存档
</a><a class="a-block nav-link-item false" href=/tags>标签
</a><a class="a-block nav-link-item false" href=/categories>分类
</a><a class="a-block nav-link-item false" href=/friends>友链
</a><a class="a-block nav-link-item false" href=/about>关于
</a><a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer><a href=https://github.com/cjc7373/hugo-theme-diary>Modified</a> Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>移植自 <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Coherence. 本站遵循 CC BY-NC-SA 4.0 协议</div></div><div id=extraContainer class=extra-container><div class=toc-wrapper><div class=toc><div class=toc-content><center>- 目录 -</center><ul><ul><li><a href=#objects class=nav-objects>Objects</a></li><li><a href=#references class=nav-references>References</a></li><li><a href=#merge-and-rebase class=nav-merge-and-rebase>Merge and Rebase</a></li><li><a href=#%e4%b8%80%e4%b8%aa-fsck-%e5%af%bc%e8%87%b4%e7%9a%84%e9%97%ae%e9%a2%98 class=nav-一个-fsck-导致的问题>一个 fsck 导致的问题</a></li></ul></div></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up
</i></a><a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div id=single-column-footer><a href=https://github.com/cjc7373/hugo-theme-diary>Modified</a> Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>移植自 <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Coherence. 本站遵循 CC BY-NC-SA 4.0 协议</div></div><script src=/js/journal.js></script></body></html>