<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ACM on Coherence's Blog</title><link>https://blog.coherence.codes/tags/acm/</link><description>Recent content in ACM on Coherence's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Coherence. 本站遵循 CC BY-NC-SA 4.0 协议</copyright><lastBuildDate>Sun, 08 Dec 2019 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.coherence.codes/tags/acm/index.xml" rel="self" type="application/rss+xml"/><item><title>DOMjudge 配置/踩坑指南</title><link>https://blog.coherence.codes/posts/2020_and_before/domjudge-config/</link><pubDate>Wed, 19 Dec 2018 20:12:51 +0000</pubDate><guid>https://blog.coherence.codes/posts/2020_and_before/domjudge-config/</guid><description>我校新生赛也能用上 World Final 同款评测系统啦~
DOMjudge 提供了详尽的官方文档，然而对于博主这种英文弱鸡来说读的很痛苦。前前后后折腾了有两个星期吧，以此文作为避（踩）坑指南。
简介 DOMjudge，作为一款开源的 CCS(Contest Control System)，现已被ICPC钦定为官方的比赛评测系统。比 pc^2 这种闭源而含有诸多 Bug 的 CCS 高到不知道哪里去了啊。
根据官方文档的描述，DOMjudge 的主要特性有：
分布式且自动评测的 judge host Web 用户界面 模块化的系统，方面添加不同的语言/编译器 整个 DOMjudge 主要分为两个部分，Domserver 和 Judgehost，据其名字即可得出它们的功能。需要注意的是，DOMjudge 使用数据库来存放几乎一切数据，所以我们还需配置 MySQL 或者 MariaDB。
安装 DOMjudge 只能运行在 Linux 环境下。博主的运行环境是 Ubuntu Server 18.04 LTS，以及 DOMjudge 7.1.1。
除了传统的安装方式外，DOMjudge 还提供了 Docker 镜像以供安装，这样就大大简化了安装的困难程度。
关于 Docker 的使用这里不作详细描述。（其实是博主也一知半解）
然而官方的 Docker 文档中仅使用了命令来启动容器，为了进一步简化安装，也为了方便修改配置，我决定采用 Docker Compose 。以下是 docker-compose.yml 文件：
version: &amp;#34;3&amp;#34; services: mariadb: image: mariadb container_name: dj-mariadb environment: - MYSQL_ROOT_PASSWORD=rootpw - MYSQL_USER=domjudge - MYSQL_PASSWORD=djpw - MYSQL_DATABASE=domjudge volumes: - $PWD/data:/var/lib/mysql ports: - 13306:3306 command: - --max-connections=1000 - --innodb-log-file-size=480M domserver: image: domjudge/domserver:latest container_name: domserver environment: - MYSQL_HOST=mariadb - MYSQL_USER=domjudge - MYSQL_DATABASE=domjudge - MYSQL_PASSWORD=djpw - MYSQL_ROOT_PASSWORD=rootpw - CONTAINER_TIMEZONE=Asia/Shanghai restart: always depends_on: - phpmyadmin - mariadb ports: - 80:80 links: - mariadb judgehost: image: domjudge/judgehost:latest container_name: judgedaemon-0 privileged: true environment: - CONTAINER_TIMEZONE=Asia/Shanghai - DAEMON_ID=0 - JUDGEDAEMON_PASSWORD=whatthehell depends_on: - domserver links: - domserver restart: always volumes: - /sys/fs/cgroup:/sys/fs/cgroup:ro phpmyadmin: image: phpmyadmin/phpmyadmin container_name: myadmin ports: - 8080:80 environment: - PMA_HOST=mariadb links: - mariadb:mariadb 然后运行 docker-compose up -d 即可完成部署。</description></item></channel></rss>